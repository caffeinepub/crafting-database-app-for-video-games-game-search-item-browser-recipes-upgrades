{
  "kind": "implementation_plan",
  "version": "1.0",
  "title": "Frontend game discovery for internet-imported video game library",
  "requirements": [
    {
      "id": "REQ-10",
      "summary": "Update game discovery pages and query hooks to browse the internet-imported library, trigger manual refresh/import, show library update status, and handle games without crafting data gracefully.",
      "acceptanceCriteria": [
        "Game search/list UI displays games from the new video game library queries (not only crafting-enabled games).",
        "The page includes a clearly labeled control (English) to manually refresh/import the library and shows status feedback (in progress, last updated timestamp, and error message on failure).",
        "After a successful refresh, the game list updates without a full page reload (React Query invalidates/refetches the relevant queries).",
        "Selecting a game that does not yet have crafting data does not crash the UI; the game detail experience shows an appropriate English empty-state message indicating crafting data is not available for that game."
      ],
      "file_operations": [
        {
          "path": "frontend/src/backend.d.ts",
          "operation": "modify",
          "description": "Extend the typed frontend actor interface to include the new video game library capabilities required by the UI: a stable LibraryGame type (at minimum id/name/description), functions to list library games and fetch a library game by id, functions to trigger a library refresh/import and read global library update status. Keep existing crafting-focused types and functions intact."
        },
        {
          "path": "frontend/src/hooks/useQueries.ts",
          "operation": "modify",
          "description": "Add React Query hooks and queryKeys for the new library game list/detail and global library update status, plus a refresh/import mutation that invalidates/refetches the relevant queries on success. Ensure query keys are distinct from existing crafting-focused queries and that invalidation updates the list without a full reload."
        },
        {
          "path": "frontend/src/pages/GameSearchPage.tsx",
          "operation": "modify",
          "description": "Switch the search/list page to load and display the internet-imported library games (instead of only crafting-enabled games). Add a clearly labeled English control to trigger library refresh/import and render global library update status (in progress / last updated / error message). Use existing shadcn/ui components (e.g., Card, Button, Badge, Alert, Skeleton) for the new UI elements; verify the component's usage instructions before implementing."
        },
        {
          "path": "frontend/src/pages/GameDetailPage.tsx",
          "operation": "modify",
          "description": "Update the game detail page to fetch and display the selected library gameâ€™s basic info and to avoid crashing when crafting data is missing. When crafting data/items are unavailable for the selected library game, show an English empty-state message indicating crafting data is not available for that game, and avoid running item queries that would error. Use the existing EmptyState component and existing shadcn/ui components for consistent presentation; verify the component's usage instructions before implementing."
        }
      ]
    }
  ]
}